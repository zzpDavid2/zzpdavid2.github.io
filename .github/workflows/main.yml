name: Continuous Deploy #action名称
on: [push] #在推送的时候运行此action

jobs:
  deploy_job:
    runs-on: ubuntu-latest  #运行环境
    name: build
    steps:
    - name: SFTP Deploy
      uses: wlixcc/SFTP-Deploy-Action@v1.2.5
      with:  
        username: 'dzhou'   #ssh user name
        server: 'people.reed.edu' #引用之前创建好的secret
        ssh_private_key: ${{ secrets.SSH_PRIVATE_KEY }} #引用之前创建好的secret
        local_path: './build/*'  # 对应我们项目build的文件夹路径
        remote_path: '/var/www/react-app'
